<!DOCTYPE html>
<html lang="en">
<head>
    <title>Working with Dates - ARO Programming Language</title>
{{head}}
    <style>
        .doc-page { padding: 120px 24px 80px; max-width: 900px; margin: 0 auto; }
        .doc-header { margin-bottom: 48px; }
        .doc-header h1 { font-size: clamp(2rem, 5vw, 3rem); font-weight: 700; margin-bottom: 16px; letter-spacing: -0.02em; }
        .doc-header .lead { font-size: 1.25rem; color: var(--color-text-muted); line-height: 1.7; }
        .doc-page h2 { font-size: 1.8rem; font-weight: 600; margin: 48px 0 16px; padding-top: 24px; border-top: 1px solid rgba(255, 255, 255, 0.1); }
        .doc-page h3 { font-size: 1.3rem; font-weight: 600; margin: 32px 0 12px; color: var(--color-secondary); }
        .doc-page p { font-size: 1.1rem; color: var(--color-text-muted); line-height: 1.8; margin-bottom: 16px; }
        .doc-page code { font-family: var(--font-mono); background: var(--color-bg-alt); padding: 3px 8px; border-radius: 4px; font-size: 0.9rem; color: var(--color-secondary); }
        .doc-page pre { background: var(--color-bg-alt); border-radius: var(--radius-md); padding: 24px; overflow-x: auto; margin: 24px 0; border: 1px solid rgba(255, 255, 255, 0.1); }
        .doc-page pre code { background: none; padding: 0; font-size: 0.9rem; line-height: 1.7; color: var(--color-text); }
        .doc-page ul, .doc-page ol { color: var(--color-text-muted); margin: 16px 0 16px 24px; line-height: 1.8; }
        .doc-page li { margin-bottom: 8px; }
        .doc-page strong { color: var(--color-text); }
        .doc-page table { width: 100%; border-collapse: collapse; margin: 24px 0; }
        .doc-page th, .doc-page td { padding: 12px 16px; text-align: left; border: 1px solid rgba(255, 255, 255, 0.1); }
        .doc-page th { background: var(--color-bg-alt); font-weight: 600; color: var(--color-text); }
        .doc-page td { color: var(--color-text-muted); }
        .highlight-box { background: rgba(124, 58, 237, 0.1); border: 1px solid rgba(124, 58, 237, 0.3); border-radius: var(--radius-md); padding: 24px; margin: 32px 0; }
        .highlight-box h4 { color: var(--color-primary); font-size: 1.1rem; margin-bottom: 12px; }
        .highlight-box p { margin-bottom: 0; }
        .back-link { display: inline-flex; align-items: center; gap: 8px; color: var(--color-text-muted); text-decoration: none; font-size: 0.95rem; margin-bottom: 24px; transition: color 0.2s; }
        .back-link:hover { color: var(--color-primary); }
        .code-comment { color: #6b7280; }
        .code-keyword { color: #7c3aed; font-weight: 600; }
        .code-string { color: #10b981; }
        .code-feature { color: #f472b6; }
        .code-result { color: #06b6d4; }
    </style>
</head>
<body>
    <nav class="nav">
        <div class="nav-content">
            <a href="/aro/" class="logo"><span class="logo-aro">ARO</span></a>
            <div class="nav-links">
                <a href="../fdd.html">The FDD Story</a>
                <a href="../getting-started.html">Get Started</a>
                <a href="../docs.html" style="color: var(--color-text);">Docs</a>
                <a href="../disclaimer.html">Motivation</a>
                <a href="../download.html">Download</a>
                <a href="https://github.com/arolang/aro" class="nav-github">
                    <svg viewBox="0 0 16 16" fill="currentColor"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/></svg>
                    <span class="github-stars">
                        <svg viewBox="0 0 16 16"><path d="M8 .25a.75.75 0 01.673.418l1.882 3.815 4.21.612a.75.75 0 01.416 1.279l-3.046 2.97.719 4.192a.75.75 0 01-1.088.791L8 12.347l-3.766 1.98a.75.75 0 01-1.088-.79l.72-4.194L.818 6.374a.75.75 0 01.416-1.28l4.21-.611L7.327.668A.75.75 0 018 .25z"/></svg>
                        <span class="github-stars-count"></span>
                    </span>
                </a>
            </div>
        </div>
    </nav>

    <main class="doc-page">
        <a href="../docs.html" class="back-link">&#x2190; Back to Documentation</a>

        <header class="doc-header">
            <h1 class="gradient-text">Working with Dates</h1>
            <p class="lead">
                Date and time handling with timezone support, relative offsets, ranges, and recurrence patterns.
            </p>
        </header>

        <h2>The Magic &lt;now&gt; Variable</h2>
        <p>
            ARO provides a special <code>&lt;now&gt;</code> variable that's always available without declaration.
            It returns the current date and time in UTC:
        </p>

        <pre><code><span class="code-comment">(* Log the current time *)</span>
<span class="code-keyword">Log</span> <span class="code-keyword">&lt;now&gt;</span> to the &lt;console&gt;.</code></pre>

        <p>Output: <code>2025-12-29T15:20:49Z</code></p>

        <div class="highlight-box">
            <h4>UTC by Default</h4>
            <p>
                All dates in ARO are UTC unless explicitly converted. This eliminates timezone bugs
                and ensures consistent behavior across systems.
            </p>
        </div>

        <h2>Extracting Date Components</h2>
        <p>
            Extract individual parts of a date using qualifiers:
        </p>

        <pre><code><span class="code-keyword">Extract</span> the <span class="code-result">&lt;year&gt;</span> from the <span class="code-keyword">&lt;now: year&gt;</span>.
<span class="code-keyword">Extract</span> the <span class="code-result">&lt;month&gt;</span> from the <span class="code-keyword">&lt;now: month&gt;</span>.
<span class="code-keyword">Extract</span> the <span class="code-result">&lt;day&gt;</span> from the <span class="code-keyword">&lt;now: day&gt;</span>.
<span class="code-keyword">Extract</span> the <span class="code-result">&lt;hour&gt;</span> from the <span class="code-keyword">&lt;now: hour&gt;</span>.</code></pre>

        <h3>Available Properties</h3>
        <table>
            <tr><th>Property</th><th>Description</th><th>Example</th></tr>
            <tr><td><code>year</code></td><td>Four-digit year</td><td>2025</td></tr>
            <tr><td><code>month</code></td><td>Month (1-12)</td><td>12</td></tr>
            <tr><td><code>day</code></td><td>Day of month (1-31)</td><td>29</td></tr>
            <tr><td><code>hour</code></td><td>Hour (0-23)</td><td>15</td></tr>
            <tr><td><code>minute</code></td><td>Minute (0-59)</td><td>20</td></tr>
            <tr><td><code>second</code></td><td>Second (0-59)</td><td>49</td></tr>
            <tr><td><code>dayOfWeek</code></td><td>Day of week (1=Sun, 7=Sat)</td><td>1</td></tr>
            <tr><td><code>timestamp</code></td><td>Unix timestamp</td><td>1735485649</td></tr>
            <tr><td><code>iso</code></td><td>ISO 8601 string</td><td>2025-12-29T15:20:49Z</td></tr>
        </table>

        <h2>Parsing Date Strings</h2>
        <p>
            Convert ISO 8601 strings into date objects:
        </p>

        <pre><code><span class="code-keyword">Compute</span> the <span class="code-result">&lt;deadline: date&gt;</span> from <span class="code-string">"2025-12-31T23:59:59Z"</span>.
<span class="code-keyword">Extract</span> the <span class="code-result">&lt;deadline-year&gt;</span> from the <span class="code-keyword">&lt;deadline: year&gt;</span>.</code></pre>

        <h2>Formatting Dates</h2>
        <p>
            Format dates for display using pattern strings:
        </p>

        <pre><code><span class="code-keyword">Compute</span> the <span class="code-result">&lt;display: format&gt;</span> from &lt;now&gt; with <span class="code-string">"MMMM dd, yyyy"</span>.
<span class="code-comment">(* Result: "December 29, 2025" *)</span>

<span class="code-keyword">Compute</span> the <span class="code-result">&lt;short: format&gt;</span> from &lt;now&gt; with <span class="code-string">"MMM dd"</span>.
<span class="code-comment">(* Result: "Dec 29" *)</span></code></pre>

        <h3>Format Patterns</h3>
        <table>
            <tr><th>Pattern</th><th>Result</th></tr>
            <tr><td><code>yyyy-MM-dd</code></td><td>2025-12-29</td></tr>
            <tr><td><code>MMMM dd, yyyy</code></td><td>December 29, 2025</td></tr>
            <tr><td><code>dd.MM.yyyy</code></td><td>29.12.2025</td></tr>
            <tr><td><code>HH:mm:ss</code></td><td>15:20:49</td></tr>
        </table>

        <h2>Relative Offsets</h2>
        <p>
            Calculate dates relative to other dates:
        </p>

        <pre><code><span class="code-keyword">Compute</span> the <span class="code-result">&lt;tomorrow: +1d&gt;</span> from &lt;now&gt;.
<span class="code-keyword">Compute</span> the <span class="code-result">&lt;yesterday: -1d&gt;</span> from &lt;now&gt;.
<span class="code-keyword">Compute</span> the <span class="code-result">&lt;next-week: +7d&gt;</span> from &lt;now&gt;.
<span class="code-keyword">Compute</span> the <span class="code-result">&lt;expires: +24h&gt;</span> from &lt;created&gt;.</code></pre>

        <h3>Offset Units</h3>
        <table>
            <tr><th>Unit</th><th>Description</th></tr>
            <tr><td><code>s</code></td><td>Seconds</td></tr>
            <tr><td><code>m</code></td><td>Minutes</td></tr>
            <tr><td><code>h</code></td><td>Hours</td></tr>
            <tr><td><code>d</code></td><td>Days</td></tr>
            <tr><td><code>w</code></td><td>Weeks</td></tr>
            <tr><td><code>M</code></td><td>Months</td></tr>
            <tr><td><code>y</code></td><td>Years</td></tr>
        </table>

        <h2>Date Ranges</h2>
        <p>
            Create and work with date ranges:
        </p>

        <pre><code><span class="code-keyword">Create</span> the <span class="code-result">&lt;vacation: date-range&gt;</span> from &lt;start&gt; to &lt;end&gt;.
<span class="code-keyword">Extract</span> the <span class="code-result">&lt;duration&gt;</span> from the <span class="code-keyword">&lt;vacation: days&gt;</span>.</code></pre>

        <h2>Date Comparisons</h2>
        <p>
            Compare dates in when clauses:
        </p>

        <pre><code>when &lt;booking&gt; before &lt;deadline&gt; {
    <span class="code-keyword">Log</span> <span class="code-string">"Booking accepted"</span> to the &lt;console&gt;.
}

when &lt;event&gt; after &lt;now&gt; {
    <span class="code-keyword">Log</span> <span class="code-string">"Upcoming event"</span> to the &lt;console&gt;.
}</code></pre>

        <h2>Recurrence Patterns</h2>
        <p>
            Define recurring schedules:
        </p>

        <pre><code><span class="code-keyword">Create</span> the <span class="code-result">&lt;weekly: recurrence&gt;</span> with <span class="code-string">"every monday"</span>.
<span class="code-keyword">Extract</span> the <span class="code-result">&lt;next&gt;</span> from the <span class="code-keyword">&lt;weekly: next&gt;</span>.</code></pre>

        <h3>Pattern Examples</h3>
        <ul>
            <li><code>every day</code> - Daily occurrence</li>
            <li><code>every week</code> - Weekly occurrence</li>
            <li><code>every 2 weeks</code> - Bi-weekly</li>
            <li><code>every monday</code> - Every Monday</li>
            <li><code>every second tuesday</code> - 2nd Tuesday of each month</li>
            <li><code>every last friday</code> - Last Friday of each month</li>
        </ul>

        <div class="highlight-box">
            <h4>Learn More</h4>
            <p>
                See the <a href="https://github.com/arolang/aro/blob/main/Proposals/ARO-0041-date-time-handling.md" style="color: var(--color-primary);">ARO-0041 proposal</a>
                for the complete date/time specification.
            </p>
        </div>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo"><span class="logo-aro">ARO</span></div>
            <p>The Action Result Object Programming Language</p>
            <p class="footer-links">
                <a href="https://github.com/arolang/aro">GitHub</a>
                <a href="../getting-started.html">Get Started</a>
                <a href="../docs.html">Documentation</a>
            </p>
            <p class="footer-copyright">&copy; 2025 ARO Project</p>
        </div>
    </footer>
{{scripts}}
</body>
</html>
